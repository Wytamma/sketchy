profiles {
    local {
        process.executor = "local"
        process.container = "$baseDir/sketchy-dev.sif"
        singularity.enabled = true
        singularity.autoMounts = true
    }

    cluster {
        process.executor = "pbspro"
        process.container = "$baseDir/sketchy-dev.sif"
        singularity.enabled = true
        singularity.autoMounts = true
    }
}

params {


    outdir      = "test"
    prefix      = "test"

    fasta       = "kpneumoniae/*.fasta"

    fastq       = "*.fq"
    quality     = 7
    length      = 200

    metagenome  = false
    taxdb       = "$HOME/resources/minikraken2"
    species     = "Klebsiella pneumoniae"
   
    sketchy     =  true
    sketches    =  ["saureus_15_1000"]
    ranks       =  [10]
    limits      =  [100]
    time        =  true

    build       = false
    kmer_size   = 15
    sketch_size = 1000
    
    bootstrap   = false
    samples     = 100
    limit       = 10000
    seed        = 42


}

process {

    errorStrategy = "ignore"
    scratch = true

    withLabel: sketchy {
        cpus = 4
        memory = "8G"
        time = "1h"
    }
    withLabel: build {
        cpus = 4
        memory = "8G"
        time = "8h"
    }
    withLabel: kraken2 {
        cpus = 16
        memory = "32G"
        time = "8h"
    }

}
